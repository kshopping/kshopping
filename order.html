<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì£¼ë¬¸ ì •ë³´ ì…ë ¥</title>

  <link rel="stylesheet" href="css/order.css">
  <link rel="stylesheet" href="css/index.css"> <!-- ê¸°ë³¸ ìŠ¤íƒ€ì¼ í™œìš© -->

  <style>
    /* ì£¼ë¬¸ ìš”ì•½ ë°•ìŠ¤ */
    #order-summary {
      background: #fff;
      padding: 18px;
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.08);
      margin-bottom: 25px;
    }

    #order-summary h3 {
      margin-bottom: 12px;
      font-size: 20px;
      font-weight: 700;
    }

    .order-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 6px;
      font-size: 15px;
    }

    .order-total {
      margin-top: 14px;
      font-size: 18px;
      font-weight: bold;
      text-align: right;
      color: #e74c3c;
    }
  </style>
</head>

<body>

<h2 class="title">ğŸ“¦ ì£¼ë¬¸ ì •ë³´ ì…ë ¥</h2>

<div class="order-box">

  <!-- ì£¼ë¬¸ ìƒí’ˆ ìš”ì•½ -->
  <div id="order-summary">
    <h3>ì£¼ë¬¸ ìƒí’ˆ ë‚´ì—­</h3>
    <div id="order-items"></div>
    <div class="order-total" id="order-total"></div>
  </div>

  <!-- ì£¼ë¬¸ ì…ë ¥ í¼ -->
  <div class="form-row">
    <label>ì´ë¦„</label>
    <input id="name" type="text" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
  </div>

  <div class="form-row">
    <label>ì—°ë½ì²˜</label>
    <input id="phone" type="text" placeholder="010-0000-0000">
  </div>

  <div class="form-row">
    <label>ì£¼ì†Œ</label>
    <input id="address" type="text" placeholder="ë°°ì†¡ì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
  </div>

  <div class="form-row">
    <label>ìš”ì²­ì‚¬í•­</label>
    <textarea id="memo" placeholder="ìš”ì²­ì‚¬í•­ì´ ìˆë‹¤ë©´ ì…ë ¥í•´ì£¼ì„¸ìš”"></textarea>
  </div>

  <button id="submitOrder" class="btn-order">âœ” ì£¼ë¬¸í•˜ê¸°</button>
  <button class="btn-back" onclick="location.href='index.html'">â† ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>

</div>

<script type="module" src="./js/order.js"></script>
<script>
  // ì£¼ë¬¸ ìš”ì•½ ë¡œë“œ (order.jsì™€ êµ¬ì¡° ë¶„ë¦¬)
  function loadOrderSummary() {
    const items = JSON.parse(localStorage.getItem("cartItems") || "[]");
    const area = document.getElementById("order-items");
    const totalArea = document.getElementById("order-total");

    if (!items.length) {
      area.innerHTML = "<p>ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤.</p>";
      totalArea.textContent = "";
      return;
    }

    let html = "";
    let total = 0;
    let qty = 0;

    items.forEach((item) => {
      const itemTotal = item.price * item.qty;
      total += itemTotal;
      qty += item.qty;

      html += `
        <div class="order-item">
          <span>${item.name} x ${item.qty}</span>
          <span>${itemTotal.toLocaleString()}ì›</span>
        </div>
      `;
    });

    area.innerHTML = html;
    totalArea.textContent = `ì´ ${qty}ê°œ | ì´ ê¸ˆì•¡: ${total.toLocaleString()}ì›`;
  }

  loadOrderSummary();
</script>
</body>
</html>


